<% const isHome=(typeof pageUrl==='undefined' || pageUrl==='' || pageUrl==='/' ); const hasValidConfig=typeof toolConfig
  !=='undefined' && (toolConfig.translationKey || toolConfig.defaultTitle); if (!isHome && hasValidConfig &&
  !toolConfig.hideBreadcrumbs) { const catId=toolConfig.category; const cat=global.categories && catId ?
  global.categories[catId] : null; const toolTitle=toolConfig.translationKey ? t(toolConfig.translationKey + '.title' )
  : toolConfig.defaultTitle; %>
  <nav class="breadcrumbs-container" aria-label="Breadcrumb">
    <ol class="breadcrumbs-list">
      <li class="breadcrumb-item">
        <a href="<%= rootPath %><%= locale %>/" class="breadcrumb-link" title="<%= t('nav.home') || 'Home' %>">
          <i data-lucide="home"></i>
        </a>
      </li>

      <% if (cat) { %>
        <li class="breadcrumb-separator">
          <i data-lucide="chevron-right"></i>
        </li>
        <li class="breadcrumb-item">
          <a href="<%= rootPath %><%= locale %>/categories/#cat-<%= catId %>" class="breadcrumb-link">
            <%= t(cat.translation_key) %>
          </a>
        </li>
        <% } %>

          <li class="breadcrumb-separator">
            <i data-lucide="chevron-right"></i>
          </li>
          <li class="breadcrumb-item active" aria-current="page">
            <span class="breadcrumb-current">
              <%= toolTitle %>
            </span>
          </li>
    </ol>
  </nav>

  <style>
    .breadcrumbs-container {
      padding: 1rem 0;
      margin-bottom: 1rem;
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .breadcrumbs-list {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      gap: 8px;
    }

    .breadcrumb-item {
      display: flex;
      align-items: center;
    }

    .breadcrumb-link {
      color: var(--text-muted);
      text-decoration: none;
      transition: color 0.2s;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .breadcrumb-link i {
      width: 14px;
      height: 14px;
    }

    .breadcrumb-link:hover {
      color: var(--primary-color);
    }

    .breadcrumb-separator {
      color: var(--border-color);
      display: flex;
      align-items: center;
    }

    .breadcrumb-separator i {
      width: 14px;
      height: 14px;
    }

    .breadcrumb-current {
      font-weight: 500;
      color: var(--text-color);
    }

    @media (max-width: 600px) {
      .breadcrumbs-container {
        padding: 0.75rem 0;
        font-size: 0.75rem;
      }
    }
  </style>
  <% } %>